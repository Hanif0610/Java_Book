# 자료형
## 변수와 메모리
### 변수는 컴퓨터 내부의 메모리 공간에 저장된다.
> 메모리 : 프로그램이 실행되는 작업 공간
### 즉, int level;을 선언하면 메모리에 4바이트 크기의 공간이 level이란 이름으로 할당된다.
### 이 후 연산을 하거나 출력을 할 때에는 메모리 공간에 있는 값을 가져와야 한다.
### 이때 변수 이름을 사용하여 값을 가져온다.
---
## 기본 자료형의 종류
### 자바에서 제공하는 자료형은 기본 자료형과 참조 자료형이 있다.
### 기본 자료형은 자바 라이브러리에서 기본으로 제공하며, 얼마만큼의 메모리를 어떻게 사용할 것인지가 이미 정해져있다.
#### 참조 자료형은 클래스를 배우는 05장에서 다시 설명할 것이다.
### 자바에서 제공하는 기본 자료형은 각 자료형이 사용할 공간의 크기, 즉 바이트 수가 정해져있다.
|     | 정수형 | 문자형 | 실수형 | 논리형 |
| :---: | :---: | :---: | :---: | :---: |
| 1바이트 | byte | - | - | boolean |
| 2바이트 | short | char | - | - |
| 4바이트 | int | - | float | - |
| 8바이트 | long | - | double | - |
---
## 정수 자료형
### 정수 자료형은 양수, 음수, 0을 나타내는 데 사용하는 자료형이다.
### 정수 자료형의 종류는 byte형, short형, int형, long형 이렇게 4가지로 나타낼 수 있다.
### 각 자료형은 메모리에서 사용하는 바이트 수와 용도가 다르다.
### 정수 자료형 중 가장 많이 쓰이는 int형의 경우 4바이트, 32비트로 이루어져있다.
### 32비트 중 맨 앞 비트는 부호 비트이며 0이면 양수, 1이면 음수를 나타낸다.
### 이를 고려하여 맨 앞의 부호 비트를 제외하면 -2^31 ~ 2^31-1까지 나타낼 수 있다.
### 0은 모든 비트가 0이므로 양수의 범위는 0을 뺀 2^31-1까지 되는 것이다.
## 각 정수 자료형에 따라 표현할 수 있는 유효범위
| 자료형 | 바이트크기 | 수의 범위 |
| :---: | :---: | :---: |
| byte | 1 | -2^7~2^7-1 |
| short | 2 | -2^15~2^15-1 |
| int | 4 | -2^31~2^31-1 |
| long | 8 | -2^63~2^63-1 |
## byte형
### 1바이트는 8비트이다.
### 바이트 단위의 정보를 저장하거나 통신할 때 주로 사용한다.
#### ex) 동영상이나 음악 파일을 재생할 때 또는 네트워크로 데이터를 전송할 때 사용

## short형
### 2바이트로 정수를 표현하는 자료형이다.

## int형
### 정수를 표현할 때 가장 많이 사용하는 자료형이다.
### 가장 많이 사용하는 이유는 컴퓨터에서 정수로 연산을 할 때 4바이트 단위로 처리하는 것이 가장 효율적이기 때문이다.

## long형
### 자바에서 정수를 표현하는 가장 큰 단위의 자료형이다.
### int의 범위를 넘어서는 정수를 사용할 때 주로 사용한다.
```java
int num1 = 12345678900;
long num2 = 12345678900;
```
### 위 코드는 에러가 발생한다.
### 자바에서는 모든 정수 값을 기본으로 int형으로 처리하기 때문에 long이라는 것을 컴파일러에 알려주지 않으면 int형으로 처리한다.
### 따라서 long형을 나타내는 식별자인 L이나 l을 숫자 뒤에 붙인다.
```java
long num = 12345678900L;
```
### 허나 아래와 같은 경우는 오류가 발생하지 않는다.
``` java
long num = 1000;
```
### 1000이라는 숫자가 int형 범위를 넘지 않고 int형이 자동으로 변환되기 때문이다.
### 즉, 내부에 있는 값을 사용할 때는 식별자가 따로 필요하지 않다.
## 자료형이 다른 정수끼리 더하면?
```java
public class IntegerVariable {
    public static void main(String[] args) {
        short sVal = 10;
        byte bVal = 20;
        System.out.println(sVal + bVal);
    }
}
```
### 프로그램이 실행되어 정수 값을 연산할 때 4바이트를 기본 단위로 사용한다.
### 따라서 두 정수 모드 더하기 전에 int형으로 변환이 된다.
### 또한 연산 결과도 int형으로 저장이 된다.
### 허나 1바이트 단위로 데이터를 조작하는 경우도 있고, 다른 언어(C, C++)와 호환이 가능하도록 short를 사용하는 경우도 존재한다.
### 따라서 무조건 int형만 필요한 것은 아니다.
---
## 문자 자료형
### 문자 역시 컴퓨터 내부에서 표현할 때 0과 1의 조합으로 나타내야 한다.
### 따라서 문자를 표현하려면 특정 정수 값으로 정하자고 약속한다.
#### ex) A는  얼마로 표현할 것인지 약속하는데, 이런 코드 값을 모아둔 것을 '문자 세트'라고 한다.
#### 또한 문자를 정해진 코드 값으로 변환하는 것을 '문자 인코딩(encoding)'이라 한다.
#### 추가로 코드 값을 다시 문자로 변환하는 것을 '문자 디코딩(decoding)'이라 한다.
### 가장 기본이 되는 문자 인코딩은 아스키(ASCII) 코드이다.
### 영문자는 대문자, 소문자, 특수문자, 기호를 포함해도 1바이트(2^8 = 256개)로 표현할 수 있기에 아스키 코드는 1바이트만 사용한다.
### 한글 등 다른 언어는 문자가 복잡하고 다양하기 때문에 1바이트만으로 모든 문자를 표현하기 어려워 2바이트 이상을 사용한다.
### 이때 각 언어의 표준 인코딩을 정의해 놓은 것이 '유니코드(Unicode)'이다.
### 유니코드의 1바이트는 아스키 코드 값과 호환되고, 그 밖의 문자를 2바이트나 그 이상의 조합으로 표현한다.
### 자바는 유니코드에 기반하여 문자를 표현하기에 char형은 2바이트를 사용한다.
> 유니코드에 대한 자세한 내용 : www.unicode.org

`char myChar = 'A';`
### 문자형 변수는 이처럼 선언이 가능하다.
### 문자를 변수에 대입하면 문자 그대로 저장되는 것이 아닌, 그 문자에 해당되는 정수 값(아스키 코드 값)이 저장된다.
```java
package chapter2;

public class CharacterEx1 {
    public static void main(String[] args) {
        char ch1 = 'A';
        System.out.println(ch1); //문자 출력
        System.out.println((int)ch1); //문자에 해당하는 정수 값(아스키 코드 값) 출력

        char ch2 = 66; //정수 값 대입
        System.out.println(ch2); //정수 값에 해당하는 문자 출력

        int ch3 = 67;
        System.out.println(ch3); //문자 정수 값 출력
        System.out.println((char)ch3); //정수 값에 해당하는 문자 출력
    }
}
```
> A
\
65
\
B
\
67
\
C
### 프로그램에서 문자를 사용할 때는 항상 작은따옴표(' ')를 사용한다.
### 문자를 여러 개 이은 문자열을 사용할 때는 큰따옴표(" ")를 사용한다.
### 문자열은 여러 개의 문자를 큰 따옴표로 감싸기에 기본 자료형으로는 표현할 수는 없다.
### 또한 문자열 끝에는 항상 널 문자('\0')가 존재한다.
### 여기서 널 문자는 문자열의 끝을 나타낸다.
### 이러한 문자열을 나타낼 때 자바에서는 String 클래스를 사용한다.
> String 클래스에 대한 내용은 11장에서 배운다.
```java
package chapter2;

public class CharacterEx2 {
    public static void main(String[] args) {
        char ch1 = '한';
        char ch2 = '\uD55C'; //여기서 \는 키보드의 원표시와 같다.

        System.out.println(ch1);
        System.out.println(ch2);
    }
}
```
> 한
\
한
### \uD55C는 '한'이라는 글자의 유니코드 값이고 16진수로 나타내고 있다.
### 16진수 숫자 하나가 4비트를 사용하므로 한글 '한'이라는 글자를 표현하는 데 4비트 4개, 즉 2바이트를 사용한다.
## 문자형 변수에 숫자를 저장한다면?
### char형은 문자 자료형이지만 다른 자료형과 마찬가지로 컴퓨터 내부에서는 정수 값으로 표현되기 때문에 정수 자료형으로 분류하는 경우도 있다.
### 다른 정수 자료형과 차이점은 char형은 음수 값을 표현할 수 없다.
```java
package chapter2;

public class CharacterEx3 {
    public static void main(String[] args) {
        int a = 65;
        int b = -66;

        char a2 = 65;
        //char b2 = -66; //문자형 변수에 음수를 넣으면 에러가 발생하므로 주석처리
        
        System.out.println((char)a);
        System.out.println((char)b);
        System.out.println(a2);
    }
}
```
> A
\
?
\
A
### char형으로 선언한 변수에 음수 값을 대입하면 오류가 발생한다.
### 음수 값을 대입한 정수형 b를 char형으로 출력해 보면 물음표로 출력되는데, 알 수 없는 문자라는 의미이다.
## 자바는 UTF-16 인코딩을 사용한다.
### 유니코드를 표현하는 인코딩 방법은 크게 UTF-8과 UTF-16이 있다.
### 자바의 기본 인코딩 방식은 모든 문자를 2바이트로 표현하는 UTF-16이다.
### 허나 모두 2바이트로 표현하면 1바이트로 표현할 수 있는 알파벳 같은 문자 자료를 저장하는 경우에 메모리 낭비가 될 수 있다.
### UTF-8은 문자마다 1바이트에서 4바이트까지 사용하여 문자를 나타내므로, UTF-16에 비해 메모리 낭비가 적고 전송 속도가 빠르다.
### 이러한 이유로 인하여 UTF-8은 인터넷에서 많이 사용된다.
---
## 실수 자료형
### 실수 값 3.14를 표현한다고 했을 때 간단히 생각하면 3이라는 정수 부분과 .14라는 소수 부분을 따로 표현할 수 있다.
### 허나 0과 1 사이에는 무한개의 실수가 있다.
### 그렇기에 컴퓨터에서 실수는 정수와는 조금 다른 방식으로 표현해야 한다.
## 부동 소수점 방식
### 실수 값 0.1은 1.0 * 10^-1으로도 표현할 수 있다.
### `1.0 * 10^-1`에서 1.0은 가수 10은 밑수, ^-1은 지수이다. 여기서 밑수는 2, 10, 16등을 주로 사용한다.
### 이처럼 가수 부분(1.0)과 지수부분(-1)을 나누어서 실수를 나타내는 방식을 **부동 소수점** 방식이라 한다.
## 부동 소수점 방식에 대하여
### 컴퓨터는 숫자를 내부적으로 표현할 때 2^n으로 표현하기 때문에 실수를 표현할 때도 밑수를 2로 쓴다.
### 그리고 지수 부분과 가수 부분을 각각 비트에 표현한다.
#### 예를 들어 값 0.2를 표현한다고 할 때 밑수 2인 경우는 0.4 * 2^-1이다.
### 여기에서 가수를 밑수보다 작은 한 자리짜리 가수로 표현하는 것을 **정규화** 라고 한다.
### 즉, 밑수 값이 2인 상황에서 가수는 2 이하기 되어야 하므로, 값 0.2가 정규화 되려면 1.6 * 2^-3이다.
### 결국 밑수가 2일 때 가수 부분을 정규화하면 가수 부분의 첫째 자리 숫자는 항상 1이 된다.
### 이 때 1.6이 가수 부분이 되고 -3이 지수 부분이 되는 것이다.
## float형과 double형
### 실수 자료형에는 float형과 double형이 있다.
### float형은 부호 1비트, 지수부 8비트, 가수부 23비트로 총 32비트(4바이트)를 사용한다.
### double형은 부호 1비트, 지수부 11비트, 가수부 52비트로 총 64비트(8바이트)를 사용한다.
### 자바에서 실수는 double형을 기본으로 사용한다.
### float형에 비해 double형이 더 정밀하게 실수를 표현할 수 있기 때문이다.
```java
package chapter2;

public class DoubleEx1 {
    public static void main(String[] args) {
        double dnum = 3.14;
        float fnum = 3.14F;

        System.out.println(dnum);
        System.out.println(fnum);
    }
}
```
> 3.14
\
3.14
### 3.14는 double형으로 컴퓨터 내부에 저장되어 dnum값에 대입된다.
### float형으로 대입되는 값 3.14는 double형이 아닌 float형이 대입된다는 의미인 F또는 f를 숫자 뒤에 붙여 식별해줘야 한다.
## 부동 소수점 방식의 오류
### 지수와 가수로 나타내는 부동 소수점 방식은 지수로 표현되는 값이 0을 나타낼 수 없다.
### 따라서 부동 소수점 값을 연산하면 약간의 오차가 발생할 수 있다.
```java
package chapter2;

public class DoubleEx2 {
    public static void main(String[] args) {
        double dnum = 1;

        for(int i = 0; i < 10000; i++) { 
            dnum = dnum + 0.1;
        }
        System.out.println(dnum);
    }
}
```
#### for문은 지정한 문장을 정해진 횟수만큼 반복해서 수행하는 반복문이다. 여기에서는 더하기를 10000번 반복하라는 의미이다. 04장에서 자세하게 배운다.
> 1001.000000000159
### 위 예제는 1에 0.1를 1만번 더해서 1001일것 같으나 실제 값은 바로 위처럼 나온다.
### 약간의 오차를 감수하더라도 더 넓은 범위의 실수 값을 표현하기 위해 부동 소수점 방식을 사용한다.
## 논리 자료형
### 논리 자료형은 어떤 변수의 참, 거짓의 값을 나타내는 데 사용한다.
### 종류는 boolean형 한가지 뿐이다.
### 결혼 여부, 프로그램이 수행 잘 되었는지 여부, 값이 존재하는지 여부 등을 참 혹은 거짓으로 나타낼 수 있다.
`boolean inMarried;`
### boolean형 변수는 1바이트로 값을 저장한다.
### true(참), false(거짓) 두 가지 값만을 가진다.
```java
package chapter2;

public class BooleanEx {
    public static void main(String[] args) {
        boolean isMarried = true; //boolean 변수를 선언하고 초기화
        System.out.println(isMarried);
    }
}
```
> true
### boolean은 이처럼 true나 false만 대입할 수 있고 그 결과 값도 true, false로 출력된다.
## 자료형 없이 변수 선언하기(자바 10부터 생긴 문법)
### 자바 10이 발표되면서 변수를 사용할 대 문법적인 변화가 생겼다.
### 자바의 모든 변수를 사용할 때는 사용할 자료형을 정확히 명시해야 한다.
### 즉, 어떤 변수가 얼마만큼의 메모리를 사용하고 어떤 방식으로 그 값을 저장할지 자료형으로 선언해 주는 것이다.
### 그러나 자바 10부터는 자료형을 쓰지 않고도 변수를 사용할 수 있다.
#### 이를 지역 변수 자료형 추론(local variable type inference)라고 한다.
### 이는 변수에 대입되는 자료를 보고 컴파일러가 추척하여 사용을 하는 것이다.
```java
var num = 10;
var dnum = 10.0;
var str = "hello";
```
### 위 코드를 컴파일러는 밑 코드처럼 추측을 한다.
```java
int num = 10;
double dnum = 10.0;
String str = "hello";
```
### 이렇게 쓰면 num은 정수, dnum은 실수, str은 문자열로 컴파일된다.
### var를 사용하여 변수를 선언하는 방법은 자바스크립트 같은 다른 프로그래밍 언어에서 이미 사용하고 있다.
### 단 var를 사용할 때는 유의애야 할 사항이 있다.
1. 한번 선언한 자료형 변수를 다른 자료형으로 사용할 수 없다.\
`str = "test";` (O)\
`str = 3;` (x)
### 위 str변수는 이미 String으로 선언됐기에 다시 정수 값을 넣을 수 없다.
2. var로 자료형 없이 변수를 선언하는 방법은 '지역 변수'만 가능하다.
### 지역 변수는 프로그램의 {}내에서 사용할 수 있는 변수이다.